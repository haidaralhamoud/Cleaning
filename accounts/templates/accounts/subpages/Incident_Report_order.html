{% load static %}
{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Incident Report</title>
  <link href="https://fonts.googleapis.com/css2?family=Vesper+Libre:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/Incident_Report_order.css' %}" />
  <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>

<body>
  <!-- HEADER -->
<header class="main-header">
  <div class="logo">
    <img src="{% static 'images/logo.png' %}" alt="Logo">
  </div>

  <div class="menu-toggle" id="menu-toggle">â˜°</div>

  <nav class="nav-links" id="nav-links">
    <a href="{% url 'home:home' %}">HOME</a>
    <a href="{% url 'home:about' %}">ABOUT</a>
    <a href="#">SERVICES</a>
    <a href="#">PRICING</a>
    <a href="#">CONTACT</a>
  </nav>

  <div class="profile-btn">
    <a href="#">My Profile</a>
  </div>
</header>
  <div class="layout">
  <!-- ===== Ø§Ù„Ù…ÙŠÙ†ÙŠÙˆ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ===== -->
  <div class="mobile-header">
    <button class="menu-toggle floating" id="menuToggle">
      <span class="arrow">&#8250;</span>
    </button>

  </div>

  <!-- ===== Sidebar ===== -->
    <aside class="sidebar">
      <div class="profile-head">
        <div class="avatar"></div>
        <div>
          <div class="name">Sophia Bennett</div>
          <div class="id">ID: 123456</div>
        </div>
      </div>

      <form id="logout-form" method="post" action="{% url 'logout' %}" style="display: none;">
          {% csrf_token %}
      </form>

      <nav class="side-nav">
        <a href="{% url 'accounts:customer_profile_view' %}" class="nav-item active"><img src="{% static 'images/user-location0.png' %}" class="ico"><span>Overview</span></a>
        <a href="{% url 'accounts:Address_and_Locations_view' %}" class="nav-item"><img src="{% static 'images/user-location1.png' %}" class="ico"><span>Address & Locations</span></a>
        <a href="{% url 'accounts:my_bookimg' %}" class="nav-item"><img src="{% static 'images/event-accepted0.png'%}" class="ico"><span>My Bookings</span></a>
        <a href="{% url 'accounts:incident' %}" class="nav-item"><img src="{% static 'images/user-location1.png'%}" class="ico"><span>Incidents</span></a>
        <a href="{% url 'accounts:Service_Preferences' %}" class="nav-item"><img src="{% static 'images/settings0.png'%}" class="ico"><span>Service Preferences</span></a>
        <a href="{% url 'accounts:Communication' %}" class="nav-item" ><img src="{% static 'images/communication0.png'%}" class="ico"><span>Communication</span></a>
        <a href="{% url 'accounts:Customer_Notes' %}" class="nav-item" ><img src="{% static 'images/list-view0.png'%}" class="ico"><span>Customer Notes</span></a>
        <a href="{% url 'accounts:Payment_and_Billing' %}" class="nav-item"><img src="{% static 'images/magnetic-card0.png'%}" class="ico"><span>Payment & Billing</span></a>
        <a href="{% url 'accounts:Change_Password' %}" class="nav-item"><img src="{% static 'images/person1.png'%}" class="ico"><span>Change Password</span></a>
        <a href="{% url 'accounts:Service_History_and_Ratings' %}" class="nav-item"><img src="{% static 'images/vector2.svg'%}" class="ico"><span>Service History & Ratings</span></a>
        <a href="{% url 'accounts:Loyalty_and_Rewards' %}" class="nav-item"><img src="{% static 'images/prize0.png'%}" class="ico"><span>Loyalty & Rewards</span></a>
        <a href="#" class="nav-item" onclick="event.preventDefault(); document.getElementById('logout-form').submit();"><img src="{% static 'images/logout-rounded0.png' %}" class="ico"><span>Logout</span></a>
      </nav>
    </aside>

  <!-- ===== MAIN CONTENT ===== -->
  <div class="main-content">
    <div class="incident-container">

      <!-- === BLUE HEADER SECTION === -->
      <div style="background:#c0e7f1; text-align:center; padding:15px 10px; border-radius:8px 8px 0 0; margin:-35px -40px 30px -40px;">
        <p style="font-size:14px; color:#222; margin-bottom:5px;">Orders Order #12345</p>
        <h2 style="font-size:20px; font-weight:700; color:#000; margin-bottom:5px;">Order #12345</h2>
        <p style="font-size:15px; color:#333;">
          Customer: Sarah Miller | Provider: Alex Johnson | <span style="color:#039fc8; font-weight:600;">Status: In Progress</span>
        </p>
      </div>

      <div class="header">
        <h1>Incident Report #INC2024-003</h1>
        <p class="submitted">Submitted on July 15, 2024</p>
      </div>

      <div class="status-title">Status</div>
      <div class="status-value">In Progress</div>

      <div class="status-bar">
        <div class="status-fill"></div>
      </div>

      <p>Last updated: July 20, 2024</p>

      <hr>

      <h2>Details</h2>
      <table class="details-table">
        <tr><th>Customer</th><td>Sarah Miller</td></tr>
        <tr><th>Reported By</th><td>Alex Johnson</td></tr>
        <tr><th>Category</th><td>Cleaning Issue</td></tr>
        <tr><th>Severity</th><td>Medium</td></tr>
        <tr><th>Description</th><td>Customer reported dissatisfaction with the recent cleaning session. Minor damages noticed on table surface.</td></tr>
      </table>

      <h2>Communications</h2>
      <div class="comment">
        <strong>Ethan Bennett</strong> â€” July 15, 2024, 10:00 AM<br>
        Initial report submitted by customer.
      </div>

      <h2>Evidence</h2>
      <div class="evidence-box">ðŸ“· No evidence uploaded</div>

      <h2>Resolution</h2>
      <div class="timeline">
        <div class="timeline-dot"></div>
        <div class="timeline-step"><div class="circle">âœ”</div><p>Reported<br><small>July 15</small></p></div>
        <div class="timeline-step"><div class="circle">âœ”</div><p>Under Review<br><small>July 16</small></p></div>
        <div class="timeline-step"><div class="circle">âœ”</div><p>Action Taken<br><small>July 18</small></p></div>
        <div class="timeline-step"><div class="circle">âœ”</div><p>Resolved<br><small>July 20</small></p></div>
      </div>

   <button class="close-btn" onclick="toggleSatisfaction()">Close Incident</button>

<div id="satisfactionSection" class="satisfaction hidden">
  <p>Was this resolved to your satisfaction?</p>
  <div class="response-buttons">
    <button class="response-btn yes">âœ“ Yes</button>
    <button class="response-btn no">âœ— No</button>
  </div>

  <h2>Add Comment</h2>
  <textarea placeholder="Type your comment here..."></textarea>
  <button class="save-btn" onclick="saveFeedback()">Save</button>
</div>

    </div>
  </div>
</div>
<footer class="footer">
  <div class="footer-container">
    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ 1: Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ù„Ù†Øµ -->
    <div class="footer-col about">
      <img src="{% static 'images/logo.png' %}" alt="Hembla Logo" class="footer-logo">
      <p>
        At Hembla, we believe home should be your haven, not your to-do list. 
        From cleaning to care, weâ€™re here to make life easier, one home at a time.
      </p>

      <!-- Ø§Ù„ØµÙ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ ØªØ­Øª Ø§Ù„Ù†Øµ -->
      <div class="bottom-left">
        <!-- Connect -->
        <div class="connect">
          <h4>Connect</h4>
          <div class="socials">
            <img src="{% static 'images/facebook0.png'%}" alt="facebook">
            <img src="{% static 'images/instagram-circle0.png'%}" alt="instagram">
            <img src="{% static 'images/linked-in-circled0.png'%}" alt="linkedin">
            <img src="{% static 'images/whats-app0.png'%}" alt="whatsapp">
          </div>
        </div>


      </div>
    </div>

    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ 2: Support -->
    <div class="footer-col support">
      <h4>Support</h4>
      <ul>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">Address</a></li>
        <li><a href="#">Working Hours</a></li>
        <li><a href="#">FAQ</a></li>
      </ul>
              <!-- App Download -->
        <div class="app-download">
          <h4>App Download</h4>
          <div class="apps">
            <img src="{% static 'images/mobile0.png'%}" alt="mobile">
            <img src="{% static 'images/chat-gpt-image-sep-15-2025-05-50-28-pm-10.png'%}" alt="app store">
          </div>
        </div>
    </div>

    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ 3: Company -->
    <div class="footer-col company">
      <h4>Company</h4>
      <ul>
        <li><a href="#">About Us</a></li>
        <li><a href="#">Careers</a></li>
        <li><a href="#">Our Story</a></li>
        <li><a href="#">Feedback</a></li>
      </ul>
    </div>

    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ 4: Legal / Privacy -->
    <div class="footer-col legal">
      <h4>Legal/Privacy</h4>
      <ul>
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Cookie Policy</a></li>
        <li><a href="#">Accessibility Statement</a></li>
      </ul>
    </div>
  </div>

  <!-- Ø§Ù„Ø®Ø· Ø§Ù„ÙØ§ØµÙ„ -->
  <hr class="footer-line">

  <!-- Ø§Ù„ØµÙ Ø§Ù„Ø³ÙÙ„ÙŠ -->
  <div class="footer-bottom">
    <div class="language-box">
      <img src="{% static 'images/earth-globe0.png'%}" alt="earth" class="earth-icon">
      <span>Language</span>
    </div>
    <p>Â© 2025 Hembla Cleaning Services. All rights reserved.</p>
  </div>
</footer>

<script>
const toggleBtn = docume6nt.getElementById("menu-toggle");
const navLinks = document.getElementById("nav-links");
  
toggleBtn.addEventListener("click", () => {
  navLinks.classList.toggle("active");
});
</script>
  <!-- ===== JS ===== -->
   <script>
  function saveFeedback() {
    const comment = document.querySelector('#satisfactionSection textarea').value.trim();
    const response = document.querySelector('.response-btn.yes.active') ? 'Yes' :
                     document.querySelector('.response-btn.no.active') ? 'No' : 'Not selected';

    // Ù…Ø¤Ù‚ØªØ§Ù‹ Ù…Ù†Ø®Ù„ÙŠÙ‡Ø§ ØªÙ†Ø¨Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    alert(`âœ… Your feedback has been saved!\nResponse: ${response}\nComment: ${comment || "No comment"}`);

    // Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸ØŒ Ù…Ù†Ø±Ø¬Ø¹ Ø¹Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªØ¨Ø¹ Ø§Ù„Ù€ Incidents
    window.location.href = "../Customer Profile-service view/index.html";
  }

  // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨ÙŠÙ† Yes / No
  const yesBtn = document.querySelector('.response-btn.yes');
  const noBtn = document.querySelector('.response-btn.no');

  yesBtn.addEventListener('click', () => {
    yesBtn.classList.add('active');
    noBtn.classList.remove('active');
  });

  noBtn.addEventListener('click', () => {
    noBtn.classList.add('active');
    yesBtn.classList.remove('active');
  });
</script>

  <script>
    const toggle = document.getElementById("menuToggle");
    const sidebar = document.getElementById("sidebar");
    const arrow = document.querySelector(".menu-toggle .arrow");

    toggle.addEventListener("click", () => {
      sidebar.classList.toggle("active");
      arrow.innerHTML = sidebar.classList.contains("active") ? "&#8249;" : "&#8250;";
    });
  </script>
  <script>
  function toggleSatisfaction() {
    const section = document.getElementById('satisfactionSection');
    section.classList.toggle('open');
  }
</script>

</body>
</html>
