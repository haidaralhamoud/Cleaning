{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Company Info | Hembla experten</title>
  <link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/main_header.css' %}">

  <link rel="stylesheet" href="{% static 'css/company_info.css' %}">
  <link href="https://fonts.googleapis.com/css2family=Inter:wght@400;600;700&family=Vesper+Libre:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- ' HEADER -->
{% include "home/includes/main_header.html" %}

  <div class="container">
<div class="steps">
    {% for i in range_total_steps %}
        <div class="step {% if step == i %}active{% endif %}">
            Step {{ i }}
        </div>
    {% endfor %}
</div>



    <!-- Title -->
    <div class="title">
      <span class="icon">&#127970;</span>
      <h1>Company Info</h1>
    </div>

<form method="POST" class="form-card" id="companyInfoForm">
  {% csrf_token %}

  <div class="form-group full">
    <label>Company name</label>
    {{ form.company_name }}
  </div>

  <div class="form-row">
    <div class="form-group half">
      <label>Contact person</label>
      {{ form.contact_person }}
    </div>
    <div class="form-group half">
      <label>Role</label>
      {{ form.role }}
    </div>
  </div>

  <div class="form-group full">
    <label>Office address</label>
    {{ form.office_address }}
  </div>

  <div class="form-group full">
    <label>Email</label>
    {{ form.email }}
  </div>

  <div class="form-group full">
    <label>Phone</label>
    {{ form.phone }}
  </div>
<div class="form-error" id="companyInfoError">Please fill in all required fields.</div>
<div class="form-actions">
  <div class="action-left">
    <a onclick="window.history.back();" class="back-btn">
      <span class="back-icon">&larr;</span>
      Back
    </a>
  </div>
  <div class="action-right">
    <button type="submit" class="next-btn">
      Next
      <span class="next-icon">&rarr;</span>
    </button>
  </div>
</div>

</form>

  </div>

<script>
  const companyForm = document.getElementById("companyInfoForm");
  const companyError = document.getElementById("companyInfoError");
  const companyFields = [
    document.getElementById("id_company_name"),
    document.getElementById("id_contact_person"),
    document.getElementById("id_role"),
    document.getElementById("id_office_address"),
    document.getElementById("id_email"),
    document.getElementById("id_phone")
  ];

  const clearCompanyErrors = () => {
    companyFields.forEach((field) => field && field.classList.remove("field-error"));
    companyError.classList.remove("is-visible");
  };

  companyFields.forEach((field) => {
    if (!field) return;
    field.addEventListener("input", clearCompanyErrors);
    field.addEventListener("change", clearCompanyErrors);
  });

  companyForm.addEventListener("submit", (e) => {
    clearCompanyErrors();
    let hasError = false;
    companyFields.forEach((field) => {
      if (!field) return;
      if (!field.value || !field.value.trim()) {
        field.classList.add("field-error");
        hasError = true;
      }
    });
    if (hasError) {
      e.preventDefault();
      companyError.classList.add("is-visible");
    }
  });
</script>

<script src="{% static 'js/main_header.js' %}"></script>
</body>
</html>



