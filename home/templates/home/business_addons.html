{% load static %}
{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add-Ons</title>
  <link rel="stylesheet" href="{% static 'css/base.css' %}">

  <link rel="stylesheet" href="{% static 'css/business_addons.css' %}">

  <style>


     *, *:before, *:after {
    box-sizing: border-box;
    }
    .addon-card {
        border: 1px solid #eee;
        padding: 20px;
        border-radius: 12px;
        cursor: pointer;
        background: #fff;
        transition: 0.2s;
        position: relative;
    }
    .addon-card.selected {
        border-color: #00a3c8;
        background: #f2fcff;
    }
    .checkmark-box {
        width: 22px;
        height: 22px;
        border: 2px solid #aaa;
        border-radius: 6px;
        position: absolute;
        top: 15px;
        right: 15px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.2s;
    }
    .addon-card.selected .checkmark-box {
        border-color: #00a3c8;
        background: #00a3c8;
    }
    .checkmark-box svg {
        width: 14px;
        height: 14px;
        stroke: white;
        display: none;
    }
    .addon-card.selected .checkmark-box svg {
        display: block;
    }

    /* OTHER TEXT FIELD */
    .other-text {
        margin-top: 12px;
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
       
        border-radius: 10px;
    }
    .steps {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin: 25px 0;
}

.step {
    padding: 8px 16px;
    border: 1px solid #00a3c8;
    border-radius: 18px;
    color: #00a3c8;
    font-weight: 600;
    background: #fff;
}

.step.active {
    background: #00a3c8;
    color: #fff;
}

.back-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 18px;
    background: #f1f5f7;
    color: #009dbe;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    border: 2px solid #d9e4e8;
    transition: 0.25s ease;
}

.back-btn:hover {
    background: #e7f4f7;
    border-color: #b8d7df;
    color: #007c96;
}

.back-btn svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
}
.confirm-btn {
    width: 420px;              /* üî• ÿπÿ±ÿ∂ ŸÖŸÜÿßÿ≥ÿ® */
    margin: 30px auto 0 auto;  /* üî• ÿ™Ÿàÿ≥Ÿäÿ∑ ŸÉÿßŸÖŸÑ */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.confirm-btn button {
    background: #009dbe;
    color: #fff;
    padding: 12px 26px;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    transition: 0.25s ease;
}

.confirm-btn button:hover {
    background: #007b99;
}

  </style>

</head>

<body>
<!-- ‚úÖ HEADER -->
<header class="main-header">
  <div class="logo">
    <img src="{% static 'images/logo.png' %}" alt="Logo">
  </div>

  <!-- ÿ≤ÿ± ÿßŸÑŸÖŸÜŸäŸà -->
  <div class="menu-toggle" id="menu-toggle">‚ò∞</div>

  <nav class="nav-links" id="nav-links">
    <a href="{% url 'home:home' %}">HOME</a>
    <a href="{% url 'home:about' %}">ABOUT</a>
    <a href="#">SERVICES</a>
    <a href="#">PRICING</a>
    <a href="{% url 'home:contact' %}">CONTACT</a>
  </nav>

  <div class="profile-btn">
    <a href="{% url 'accounts:customer_profile_view' %}">My Profile</a>
  </div>
</header>
<main class="container">

  <!-- Steps -->
<div class="steps">
    {% for i in range_total_steps %}
        <div class="step {% if step == i %}active{% endif %}">
            Step {{ i }}
        </div>
    {% endfor %}
</div>





  <!-- Title -->
  <section class="section-title">
    <h2>‚ûï Add-Ons</h2>
    <p>üí° Think of add-ons as the ‚Äúextras that businesses often forget, but really need.‚Äù</p>
  </section>

  <form method="POST" id="addonsForm">
    {% csrf_token %}
    <input type="hidden" name="selected_addons" id="selectedAddonsInput">

    <!-- Add-ons grid -->
    <section class="addons-grid">

      {% for a in addons %}
      <div class="addon-card" data-id="{{ a.id }}" data-title="{{ a.title }}">

        <!-- Checkmark -->
        <div class="checkmark-box">
          <svg viewBox="0 0 24 24"><path fill="none" stroke-width="3" d="M4 12l6 6L20 6"/></svg>
        </div>

        <div class="addon-content">
          <h3>{{ a.emoji }} {{ a.title }}</h3>
          <p>{{ a.description }}</p>
        </div>

      </div>
      {% endfor %}

      <!-- OTHER CARD -->
      <div class="addon-card" data-id="other" data-title="Other">

        <div class="checkmark-box">
          <svg viewBox="0 0 24 24"><path fill="none" stroke-width="3" d="M4 12l6 6L20 6"/></svg>
        </div>

        <div class="addon-content">
          <h3>‚úèÔ∏è Other</h3>
          <p>(eco-products only, extra fridge cleaning, locker room service...)</p>

          <textarea id="otherInput" class="other-text" placeholder="Write your custom add-on here..."></textarea>
        </div>

      </div>

    </section>

    <!-- Confirm -->
<div class="confirm-btn">

    <a onclick="window.history.back();" class="back-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
        Back
    </a>

    <button type="submit">Confirm Add-ons</button>

</div>


  </form>
</main>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<footer class="footer">
  <div class="footer-container">
    <!-- ÿßŸÑÿπŸÖŸàÿØ 1: ÿßŸÑŸÑŸàÿ¨Ÿà ŸàÿßŸÑŸÜÿµ -->
    <div class="footer-col about">
      <img src="{% static 'images/logo.png' %}" alt="Hembla Logo" class="footer-logo">
      <p>
        At Hembla, we believe home should be your haven, not your to-do list. 
        From cleaning to care, we‚Äôre here to make life easier, one home at a time.
      </p>

      <!-- ÿßŸÑÿµŸÅ ÿßŸÑÿ•ÿ∂ÿßŸÅŸä ÿ™ÿ≠ÿ™ ÿßŸÑŸÜÿµ -->
      <div class="bottom-left">
        <!-- Connect -->
        <div class="connect">
          <h4>Connect</h4>
          <div class="socials">
            <img src="{% static 'images/facebook0.png'%}" alt="facebook">
            <img src="{% static 'images/instagram-circle0.png'%}" alt="instagram">
            <img src="{% static 'images/linked-in-circled0.png'%}" alt="linkedin">
            <img src="{% static 'images/whats-app0.png'%}" alt="whatsapp">
          </div>
        </div>


      </div>
    </div>

    <!-- ÿßŸÑÿπŸÖŸàÿØ 2: Support -->
    <div class="footer-col support">
      <h4>Support</h4>
      <ul>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">Address</a></li>
        <li><a href="#">Working Hours</a></li>
        <li><a href="#">FAQ</a></li>
      </ul>
              <!-- App Download -->
        <div class="app-download">
          <h4>App Download</h4>
          <div class="apps">
            <img src="{% static 'images/mobile0.png'%}" alt="mobile">
            <img src="{% static 'images/chat-gpt-image-sep-15-2025-05-50-28-pm-10.png'%}" alt="app store">
          </div>
        </div>
    </div>

    <!-- ÿßŸÑÿπŸÖŸàÿØ 3: Company -->
    <div class="footer-col company">
      <h4>Company</h4>
      <ul>
        <li><a href="#">About Us</a></li>
        <li><a href="#">Careers</a></li>
        <li><a href="#">Our Story</a></li>
        <li><a href="#">Feedback</a></li>
      </ul>
    </div>

    <!-- ÿßŸÑÿπŸÖŸàÿØ 4: Legal / Privacy -->
    <div class="footer-col legal">
      <h4>Legal/Privacy</h4>
      <ul>
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Cookie Policy</a></li>
        <li><a href="#">Accessibility Statement</a></li>
      </ul>
    </div>
  </div>

  <!-- ÿßŸÑÿÆÿ∑ ÿßŸÑŸÅÿßÿµŸÑ -->
  <hr class="footer-line">

  <!-- ÿßŸÑÿµŸÅ ÿßŸÑÿ≥ŸÅŸÑŸä -->
  <div class="footer-bottom">
    <div class="language-box">
      <img src="{% static 'images/earth-globe0.png'%}" alt="earth" class="earth-icon">
      <span>Language</span>
    </div>
    <p>¬© 2025 Hembla Cleaning Services. All rights reserved.</p>
  </div>
</footer>
<script>
let selected = [];
const cards = document.querySelectorAll(".addon-card");
const otherInput = document.getElementById("otherInput");

cards.forEach(card => {

  card.addEventListener("click", () => {

    const id = card.dataset.id;
    const title = card.dataset.title;

    card.classList.toggle("selected");

    if (card.classList.contains("selected")) {

        if (id === "other") {
            selected.push({
                id: "other",
                title: "Other",
                value: otherInput.value
            });
        } else {
            selected.push({
                id: id,
                title: title
            });
        }

    } else {
        selected = selected.filter(x => x.id !== id);
    }

    document.getElementById("selectedAddonsInput").value = JSON.stringify(selected);
  });

});

// Update OTHER live
if (otherInput) {
    otherInput.addEventListener("input", () => {
        let found = selected.find(x => x.id === "other");
        if (found) {
            found.value = otherInput.value;
        }
        document.getElementById("selectedAddonsInput").value = JSON.stringify(selected);
    });
}
</script>

</body>
</html>
