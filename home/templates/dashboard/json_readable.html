{% load dashboard_extras %}

{% if value is None %}
  <div class="json-empty">No data</div>
{% elif value|is_dict %}
  <div class="json-grid">
    {% for k, v in value.items %}
      <div class="json-row">
        <div class="json-key">{{ k }}</div>
        <div class="json-val">
          {% include "dashboard/json_readable.html" with value=v %}
        </div>
      </div>
    {% empty %}
      <div class="json-empty">No data</div>
    {% endfor %}
  </div>
{% elif value|is_list %}
  <div class="json-list">
    {% for item in value %}
      {% if item|is_dict or item|is_list %}
        <div class="json-nested">
          {% include "dashboard/json_readable.html" with value=item %}
        </div>
      {% else %}
        <span class="json-pill">{{ item }}</span>
      {% endif %}
    {% empty %}
      <div class="json-empty">No data</div>
    {% endfor %}
  </div>
{% else %}
  <div class="json-text">{{ value }}</div>
{% endif %}
